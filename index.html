<html>

<head>
    <title>Educational Room</title>
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="https://rdub80.github.io/aframe-gui/examples/js/aframe-gui.js"></script>
    <script type="text/javascript" src="/js/dropdown.js"></script>
    <script type="text/javascript" src="/js/structure-loader.component.js"></script>
    <script type="text/javascript" src="/js/structure-manager.js"></script>
    <script type="text/javascript" src="/js/gltf-color.component.js"></script>
    <script type="text/javascript" src="/js/model-opacity.component.js"></script>
    <script type="text/javascript" src="/js/assign-rotate.component.js"></script>
    <script type="text/javascript" src="/js/scale-brain.component.js"></script>
    <script type="text/javascript" src="/js/expand-brain.component.js"></script>
    <script type="text/javascript" src="/js/expand-position.component.js"></script>
    <script type="text/javascript" src="/js/toggle-structure.component.js"></script>
    <script type="text/javascript" src="/js/og-position.component.js"></script>
</head>

<body style="margin: 0px; overflow: hidden;">
    <script>
    </script>
    <a-scene>
        <a-assets timeout="100000">
            <img id="bg1" crossorigin="anonymous" src="/assets/background.jpg">
            <img id="rotate-icon" crossorigin="anonymous" src="/assets/rotate_icon.png">
            <img id="MRI-button" crossorigin="anonymous" src="/assets/MRI-rough.jpg">
            <img id="floor-tile" crossorigin="anonymous" src="/assets/ground.png">
        </a-assets>

       <!-- MENU BUTTONS -->
        <a-entity position="0 0.5 -2">
            <a-gui-button id="rotate-button" class="interactible" position="0 -0.5 -3" width="1" height="1" margin="0 0 0.05 0"
                value="rotate" assign-rotate>
            </a-gui-button>


            <a-gui-button id="scaleUp-button" class="interactible" position="-1 -0.75 -3" width="1" height="0.5"
                material="src: #rotate-icon" value=" + " font-family="Helvetica" margin="0 0 0.05 0" scale-brain>
            </a-gui-button>

            <a-gui-button id="scaleDown-button" class="interactible" position="-1 -0.25 -3" width="1" height="0.5"
                material="src: #rotate-icon" value=" - " font-family="Helvetica" margin="0 0 0.05 0" scale-brain="increase: false">
            </a-gui-button>

            <a-gui-button id="expand-button" class="interactible" position="1 -0.75 -3" width="1" height="0.5" material="src: #rotate-icon"
                value="expand" font-family="Helvetica" margin="0 0 0.05 0" expand-brain>
            </a-gui-button>

            <a-gui-button id="collapse-button" class="interactible" position="1 -0.25 -3" width="1" height="0.5"
                material="src: #rotate-icon" value="collapse" font-family="Helvetica" margin="0 0 0.05 0" expand-brain="expand: false">
            </a-gui-button>
        </a-entity>
<!-- BASAL GANGLIA -->
        <a-entity id="isolate-menu" position="0 1 -4" rotation="0 0 0">
            <a-entity position="4 3.5 0" rotation="0 -30 0">
                <a-gui-flex-container flex-direction="row" justify-content="center" align-items="normal"
                    component-padding="0.1" opacity="0" width="3" height="0.75" position="0 0.375 0" rotation="0 0 0">
                    <a-gui-icon-label-button class="interactible" width="3" height="0.75" opendropdown="target:#basalGangliaContainer"
                        icon="android-menu" value="Basal Ganglia" font-family="Arial" visible="true" role="button"
                        animation__drop="property:rotation; startEvents:opendropdown; dur: 1000; to: 180 0 0"
                        animation__drop1="property:visible; startEvents:opendropdown: dur: 100; delay: 500; to: false"
                        animation__back="property:rotation; startEvents:closedropdown; dur: 1000; to: 0 0 0"
                        animation__back1="property:visible; startEvents:closedropdown; dur: 100; delay: 500; to: true">
                    </a-gui-icon-label-button>
                </a-gui-flex-container>
                <a-gui-flex-container id="basalGangliaContainer"  flex-direction="column" justify-content="center" align-items="normal"
                    component-padding="0.1" opacity="0" width="3" height="0.75" position="0 0 -0.15" scale="1 0.001 0.001"
                    visible="false"
                    animation__drop="property: scale; startEvents:opendropdown; dur: 1000; to: 1 1 1"
                    animation__drop1="property:position; startEvents:opendropdown; dur:1000; to:0 0.375 0.15"
                    animation__drop2="property:visible; startEvents:opendropdown; dur:100; to: true; delay: 500"
                    animation__back="property:scale; startEvents:closedropdown; dur: 1000; to:1 0.001 0.001"
                    animation__back1="property:position; startEvents:closedropdown; dur:1000; to: 0 0 -0.15"
                    animation__back2="property:vibisle; startEvents:closedropdown; dur:100; to: false; delay: 500">
                    <a-gui-button id="toggleCaudateBtn" class="interactible" material="src: #rotate-icon" value="Caudate"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .caudate">
                    </a-gui-button>
                    <a-gui-button id="toggleGlobusBtn" class="interactible" material="src: #rotate-icon" value="Globus Pallidus"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .globuspallidus">
                    </a-gui-button>
                    <a-gui-button id="toggleThalamusBtn" class="interactible" material="src: #rotate-icon" value="Thalamus"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .thalamus">
                    </a-gui-button>
                    <a-gui-button id="togglePutamenBtn" class="interactible" material="src: #rotate-icon" value="Putamen"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .putamen">
                    </a-gui-button>
                    <a-gui-button id="toggleSubthalNucleiBtn" class="interactible" material="src: #rotate-icon" value="Subthalamic Nuclei"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .subthalamic">
                    </a-gui-button>
                    <a-gui-button id="toggleSubNigraBtn" class="interactible" material="src: #rotate-icon" value="Substantia Nigra"
                        width="3.05" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .substantianigra">
                    </a-gui-button>
                    <a-gui-icon-button width="0.5" class="interactible" height="0.5" closedropdown="target:#basalGangliaContainer"
                        icon="android-close" role="button" raycaster-autorefresh>
                    </a-gui-icon-button>
                </a-gui-flex-container>
            </a-entity>

          <!-- LIMBIC SYSTEM -->
            <a-entity  position="-3.5 2.3 0" rotation="0 30 0">
                <a-gui-flex-container flex-direction="row" justify-content="center" align-items="normal"
                    component-padding="0.1" opacity="0" width="3" height="0.75" position="0 0.375 0" rotation="0 0 0">
                    <a-gui-icon-label-button class="interactible" width="3" height="0.75" opendropdown="target:#limbicSystemContainer"
                        icon="android-menu" value="Limbic System" font-family="Arial" visible="true" role="button"
                        animation__drop="property:rotation; startEvents:opendropdown; dur: 1000; to: 180 0 0"
                        animation__drop1="property:visible; startEvents:opendropdown: dur: 100; to: false"
                        animation__back="property:rotation; startEvents:closedropdown; dur: 1000; to: 0 0 0"
                        animation__back1="property:visible; startEvents:closedropdown; dur: 100; delay: 500; to: true"
                    </a-gui-icon-label-button>
                </a-gui-flex-container>
                <a-gui-flex-container id="limbicSystemContainer" flex-direction="column" justify-content="center" align-items="normal"
                    component-padding="0.1" opacity="0" width="2.5" height="0.75" position="0 0 -0.15" rotation="0 0 0"
                    scale="1 0.001 0.001" visible="false" gui-item="" geometry="" material="" gui-flex-container=""

                    animation__drop="property: scale; startEvents:opendropdown; dur: 1000; to: 1 1 1"
                    animation__drop1="property:position; startEvents:opendropdown; dur:1000; to:0 0.375 0.15"
                    animation__drop2="property:visible; startEvents:opendropdown; dur:100; to: true;"
                    animation__back="property:scale; startEvents:closedropdown; dur: 1000; to:1 0.001 0.001"
                    animation__back1="property:position; startEvents:closedropdown; dur:1000; to: 0 0 -0.15"
                    animation__back2="property:vibisle; startEvents:closedropdown; dur:100; to: false;">
                    <a-gui-button id="toggleFornixBtn" class="interactible" material="src: #rotate-icon" value="Fornix"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .fornix">
                    </a-gui-button>
                    <a-gui-button id="toggleHippocampusBtn" class="interactible" material="src: #rotate-icon" value="Hippocampus"
                        width="3.05" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .hippocampus">
                    </a-gui-button>
                    <a-gui-button id="toggleAmygdalaBtn" class="interactible" material="src: #rotate-icon" value="Amygdala"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .amygdala">
                    </a-gui-button>
                    <a-gui-button id="toggleMamBodBtn" class="interactible" material="src: #rotate-icon" value="Mammillary Bodies"
                        width="3.05" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .mambodies">
                    </a-gui-button>
                    <a-gui-button id="toggleMamTractBtn" class="interactible" material="src: #rotate-icon" value="Mammillothallamic Tract"
                        width="3.05" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .mamtract">
                    </a-gui-button>
                    <a-gui-icon-button width="0.5" class="interactible" height="0.5" closedropdown="target:#limbicSystemContainer"
                        icon="android-close" role="button" raycaster-autorefresh>
                    </a-gui-icon-button>
                </a-gui-flex-container>
            </a-entity>

          <!-- CEREBELLUM -->
            <a-gui-flex-container position="-3.5 -0.2 0" rotation="0 30 0" flex-direction="column" justify-content="center" align-items="normal">
                <a-gui-button id="toggleCerebellumBtn" class="interactible" material="src: #rotate-icon" value="Cerebellum"
                width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .cerebellum">
                </a-gui-button>
            </a-gui-flex-container>

          <!-- VESSELS -->
            <a-entity  position="4 -1 0" rotation="0 -30 0">
                <a-gui-flex-container flex-direction="row" justify-content="center" align-items="normal"
                    component-padding="0.1" opacity="0" width="3" height="0.75" position="0 0.375 0">
                    <a-gui-icon-label-button class="interactible" width="3" height="0.75" opendropdown="target:#vesselsContainer"
                        icon="android-menu" value="Vessels" font-family="Arial" visible="true" role="button"
                        animation__drop="property:rotation; startEvents:opendropdown; dur: 1000; to: 180 0 0"
                        animation__drop1="property:visible; startEvents:opendropdown: dur: 100; delay: 500; to: false"
                        animation__back="property:rotation; startEvents:closedropdown; dur: 1000; to: 0 0 0"
                        animation__back1="property:visible; startEvents:closedropdown; dur: 100; delay: 500; to: true">
                    </a-gui-icon-label-button>
                </a-gui-flex-container>
                <a-gui-flex-container id="vesselsContainer" flex-direction="column" justify-content="center" align-items="normal"
                    component-padding="0.1" opacity="0" width="3" height="0.75" position="0 0 -0.15" rotation="0 0 0"
                    scale="1 0.001 0.001" visible="false"
                    animation__drop="property:scale; to: 1 1 1; dur: 1000; startEvents:opendropdown;"
                    animation__drop1="property:position; to: 0 0.375 0.15; dur: 1000; startEvents:opendropdown;"
                    animation__drop2="property:visible; to: true; dur:100; startEvents:opendropdown;"
                    animation__back="property:scale; to:1 0.001 0.001; dur:1000; startEvents:closedropdown;"
                    animation__back1="property:position; to:0 0 -0.15; dur: 1000; startEvents:closedropdown;"
                    animation__back2="property:visible; to: false; dur: 100; delay: 500; startEvents:closedropdown;">
                    <a-gui-button id="toggleArteriesBtn" class="interactible" material="src: #rotate-icon" value="Arteries"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .arteries">
                    </a-gui-button>
                    <a-gui-button id="toggleVentriclesBtn" class="interactible" material="src: #rotate-icon" value="Ventricles"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .ventricles">
                    </a-gui-button>
                    <a-gui-button id="toggleSinusesBtn" class="interactible" material="src: #rotate-icon" value="Sinuses"
                        width="3" height="0.75" font-family="Helvetica" margin="0 0 0.05 0" toggle-structure="target: .sinuses">
                    </a-gui-button>
                    <a-gui-icon-button width="0.5" class="interactible" height="0.5" closedropdown="target:#vesselsContainer"
                        icon="android-close" role="button" raycaster-autorefresh>
                    </a-gui-icon-button>
                </a-gui-flex-container>
            </a-entity>
        </a-entity>

      <!-- CORTEX -->
        <a-entity id="brain-parts" position="0 2.3 -4" scale="0.015 0.015 0.015" structure-loader animation__rot="property: rotation; from: 0 0 0; to: 0 360 0; loop: true; dur: 6000; easing: linear; pauseEvents: rotate-pause; resumeEvents: rotate-resume; autoplay: false">
            <a-entity id="cortex" scale="1 1 1" >
            </a-entity>
        </a-entity>
        <a-image position="0 -1.6 0" height="300" width="300" rotation="90 0 0" src="#floor-tile" repeat="300 300" material="color:#ebd9e9"></a-image>

        <!--<a-sky color="#a6a6a6"></a-sky>-->
        <!-- <a-gui-label id="session" height="0.75" width="2.5" rotation="0 -20 0" position="5 0 -4" value="_"></a-gui-label> -->

      <!-- MOUSE CURSOR: issue with both gaze and mouse options being active simulataneously
      <script> if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) </script> -->
        <a-entity camera look-controls position="0 2 -0.75" >
            <a-ring cursor="fuse: true; fuse-timeout: 1000;" raycaster="objects: .interactible" position="0 0 -0.5" color="white" scale="0.005 0.005 0.005">
            </a-ring>
        </a-entity>
        <a-entity cursor="rayOrigin: mouse; fuse: false;" raycaster="objects: .interactible"></a-entity>
    </a-scene>
</body>

</html>
